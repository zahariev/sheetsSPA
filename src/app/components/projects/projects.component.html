<div *ngIf="!editMode" class="container body-content">
  <h2>Projects</h2>

  <p>
    <a href="javascript:void(0)" (click)="newProject()">Create New</a>
  </p>
  <table class="table">
    <thead>
      <tr>
        <th>
          Name
        </th>
        <th>Client</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let project of projects; let i = index">
        <td>{{ project.name }}</td>

        <td>
          {{ getClientName(project.clientId) }}
        </td>
        <td>
          <button
            type="button"
            class="btn btn-success btn-sm mr-2"
            (click)="editProject(i)"
          >
            <i class="fa fa-pencil-square-o"></i>
          </button>
          <button
            type="button"
            class="btn btn-danger btn-sm"
            (click)="deleteProject(i)"
          >
            <i class="fa fa-trash-o"></i>
          </button>
        </td>
      </tr>
      <tr></tr>
    </tbody>
  </table>

  <hr />
</div>

<div *ngIf="editMode" class="container body-content">
  <h2>Edit</h2>

  <h4>Project</h4>
  <hr />
  <div class="row">
    <div class="col-md-4">
      <form novalidate="novalidate" (ngSubmit)="onSubmit()" #newForm="ngForm">
        <div class="form-group">
          <label class="control-label" for="Name">Name</label>
          <input
            class="form-control"
            type="text"
            data-val="true"
            data-val-required="The Name field is required."
            id="Name"
            [(ngModel)]="model.name"
            name="name"
            value="{{ model.name }}"
          />
          <span
            class="text-danger field-validation-valid"
            data-valmsg-for="Name"
            data-valmsg-replace="true"
          ></span>
        </div>
        <div class="form-group">
          <label class="control-label" for="ParentClientId"
            >Parent Client</label
          >
          <select
            class="form-control"
            [(ngModel)]="model.clientId"
            name="clientId"
            data-val="true"
            data-val-required="The ParentClientId field is required."
            id="ParentClientId"
          >
            <option *ngFor="let item of clients" value="{{ item.id }}">{{
              item.name
            }}</option>
          </select>
        </div>

        <div class="form-group">
          <input
            type="submit"
            value="UPDATE"
            class="btn btn-outline-secondary"
          />
        </div>
      </form>
    </div>
  </div>

  <div>
    <a href="javascript:void(0)" (click)="cancelEdit()">Back to List</a>
  </div>

  <hr />
  <footer>
    <!-- <div>Version 0.0.3.10 Â© 2018 - OneBit Software</div> -->
  </footer>
</div>
